# 道具系统设计

> 基于星落世界观，法宝助战保命，道具卡增添趣味。

---

## 一、系统总览

```
道具体系
├── 装备法宝（Artifacts）- 永久携带，核心装备
│   ├── 攻击型：诛仙剑阵、金蛟剪
│   ├── 防御型：玄武盾、乾坤圈
│   ├── 移速型：风火轮
│   ├── 控制型：定海神珠
│   ├── 收益型：聚宝盆
│   └── 特效型：虚天鼎、乾蓝冰焰、玄天斩灵
│
├── 道具卡（Item Cards）- 消耗品，随机掉落
│   ├── 攻击类：雷劫珠、翻天印
│   ├── 控制类：冰魄珠、混沌铃、定身符
│   ├── 陷阱类：荆棘种、爆炎石
│   ├── 位移类：缩地符、分身符
│   ├── 增益类：疾风符、金身符、狂暴丹
│   └── 回复类：回气丹、聚灵阵
│
└── 材料（待扩展）
```

---

## 二、装备法宝系统

### 2.1 设计理念

- **核心定位**：拉开玩家强弱差距，适配不同玩法风格
- **获取方式**：游戏开始时选择/随机，后续可通过成就解锁更多
- **使用方式**：永久携带，被动生效或定时触发

### 2.2 法宝总览

| 法宝 | 类型 | 效果 | 冷却 | 适配门派 |
|------|------|------|------|----------|
| **诛仙剑阵** | 攻击 | 4把飞剑环绕自动攻击 | 被动 | 天剑宗 |
| **金蛟剪** | 攻击 | 穿透+2，伤害+20% | 被动 | 天剑宗 |
| **玄武盾** | 防御 | 减伤30%，反弹10%伤害 | 被动 | 荒古门 |
| **乾坤圈** | 防御 | 周身结界击退敌人 | 被动 | 荒古门 |
| **风火轮** | 移速 | 移速+50%，火焰轨迹 | 被动 | 玄元道 |
| **定海神珠** | 控制 | 周围敌人减速30% | 被动 | 天机阁 |
| **聚宝盆** | 收益 | 掉落+50%，拾取范围+100% | 被动 | 通用 |
| **虚天鼎** | 特效 | 震晕全场敌人 | 10s | 通用 |
| **乾蓝冰焰** | 特效 | 前方烧伤，后方冻结 | 被动 | 玄元道 |
| **玄天斩灵** | 特效 | 斩杀精英怪 | 5s | 幽冥涧 |

### 2.3 详细设计

#### 🗡️ 诛仙剑阵

| 项目 | 内容 |
|------|------|
| **代码ID** | `zhuxian_array` |
| **类型** | 攻击·被动 |
| **效果** | 4把飞剑环绕玩家，自动攻击靠近的敌人 |
| **数值** | 每把剑5点伤害/秒 |
| **适配** | 天剑宗（剑修） |

**背景**：上古诛仙剑阵的简化版，四剑环绕护主，自动斩杀来犯之敌。

#### ✂️ 金蛟剪

| 项目 | 内容 |
|------|------|
| **代码ID** | `jinjiao_jian` |
| **类型** | 攻击·被动 |
| **效果** | 攻击穿透+2，伤害+20% |
| **适配** | 天剑宗（穿透流） |

**背景**：截教金光圣母的法宝，剪断一切，赋予持有者穿透之力。

#### 🛡️ 玄武盾

| 项目 | 内容 |
|------|------|
| **代码ID** | `xuanwu_dun` |
| **类型** | 防御·被动 |
| **效果** | 受伤减少30%，被击时反弹10%伤害 |
| **适配** | 荒古门（肉盾） |

**背景**：玄武神兽之鳞所化，坚不可摧，以守为攻。

#### ⭕ 乾坤圈

| 项目 | 内容 |
|------|------|
| **代码ID** | `qiankun_quan` |
| **类型** | 防御·被动 |
| **效果** | 周身形成结界，敌人靠近时被弹开 |
| **适配** | 荒古门（近战） |

**背景**：哪吒的乾坤圈，形成护体结界，百邪不侵。

#### 🔥 风火轮

| 项目 | 内容 |
|------|------|
| **代码ID** | `fenghuo_lun` |
| **类型** | 移速·被动 |
| **效果** | 移速+50%，移动时留下火焰轨迹伤害敌人 |
| **适配** | 玄元道（风筝流） |

**背景**：哪吒脚踏的风火轮，风驰电掣，火焰灼敌。

#### 💎 定海神珠

| 项目 | 内容 |
|------|------|
| **代码ID** | `dinghai_zhu` |
| **类型** | 控制·被动 |
| **效果** | 周围敌人移速-30%（光环范围较大） |
| **适配** | 天机阁（控制流） |

**背景**：定海神针之精华所化，镇压四方，敌人行动迟缓。

#### 💰 聚宝盆

| 项目 | 内容 |
|------|------|
| **代码ID** | `jubao_pen` |
| **类型** | 收益·被动 |
| **效果** | 击杀掉落+50%，经验+30%，拾取范围+100% |
| **适配** | 通用（刷资源） |

**背景**：财神爷的聚宝盆，财源广进，无宝不收。

#### 🔔 虚天鼎（原有）

| 项目 | 内容 |
|------|------|
| **代码ID** | `fantian` |
| **类型** | 特效·主动 |
| **效果** | 每10秒震晕全场敌人2秒 |
| **冷却** | 10秒 |

#### ☯️ 乾蓝冰焰（原有）

| 项目 | 内容 |
|------|------|
| **代码ID** | `mirror` |
| **类型** | 特效·被动 |
| **效果** | 前方敌人被灼烧，后方敌人被冻结减速 |

#### 🗡️ 玄天斩灵（原有）

| 项目 | 内容 |
|------|------|
| **代码ID** | `gourd` |
| **类型** | 特效·主动 |
| **效果** | 每5秒对精英怪造成巨额伤害 |
| **冷却** | 5秒 |

### 2.4 代码定义

```javascript
export const ARTIFACTS = [
    // 攻击型
    { id: 'zhuxian_array', name: '诛仙剑阵', desc: '4剑环绕自动攻击', type: 'attack', cd: 0 },
    { id: 'jinjiao_jian', name: '金蛟剪', desc: '穿透+2，伤害+20%', type: 'attack', cd: 0 },
    // 防御型
    { id: 'xuanwu_dun', name: '玄武盾', desc: '减伤30%，反弹10%', type: 'defense', cd: 0 },
    { id: 'qiankun_quan', name: '乾坤圈', desc: '结界击退敌人', type: 'defense', cd: 0 },
    // 移速型
    { id: 'fenghuo_lun', name: '风火轮', desc: '移速+50%，火焰轨迹', type: 'speed', cd: 0 },
    // 控制型
    { id: 'dinghai_zhu', name: '定海神珠', desc: '敌人减速30%光环', type: 'control', cd: 0 },
    // 收益型
    { id: 'jubao_pen', name: '聚宝盆', desc: '掉落+50%，拾取+100%', type: 'utility', cd: 0 },
    // 特效型（原有）
    { id: 'fantian', name: '虚天鼎', desc: '每10秒震晕全场', type: 'special', cd: 10 },
    { id: 'mirror', name: '乾蓝冰焰', desc: '前方烧后方冻', type: 'special', cd: 0 },
    { id: 'gourd', name: '玄天斩灵', desc: '每5秒斩杀精英', type: 'special', cd: 5 }
];
```

---

## 三、道具卡系统

### 3.1 设计理念

- **核心定位**：增添游戏趣味性，类似跑跑卡丁车/植物大战僵尸的道具
- **获取方式**：击杀怪物随机掉落，BOSS必掉
- **使用方式**：存入卡槽，手动使用，一次性消耗

### 3.2 稀有度

| 稀有度 | 颜色 | 掉率 | 代表道具 |
|--------|------|------|----------|
| **普通** | ⚪白 | 40% | 荆棘种、回气丹 |
| **稀有** | 🔵蓝 | 30% | 冰魄珠、疾风符 |
| **史诗** | 🟣紫 | 20% | 翻天印、雷劫珠 |
| **传说** | 🟠橙 | 10% | 混沌铃、乾坤袋 |

### 3.3 道具卡总览

| 道具 | 类型 | 图标 | 效果 | 稀有度 |
|------|------|------|------|--------|
| **雷劫珠** | 攻击 | ⚡ | 天雷连轰3次 | 史诗 |
| **翻天印** | 攻击 | 🔱 | 全场震击200伤害 | 史诗 |
| **冰魄珠** | 控制 | 🔮 | 全场冻结3秒 | 稀有 |
| **定身符** | 控制 | 📜 | 定住5敌人10秒 | 稀有 |
| **混沌铃** | 控制 | 🔔 | 敌人互攻5秒 | 传说 |
| **荆棘种** | 陷阱 | 🌿 | 地面荆棘持续伤害 | 普通 |
| **爆炎石** | 陷阱 | 💎 | 定时炸弹3秒后爆 | 稀有 |
| **缩地符** | 位移 | 🌀 | 瞬移到安全位置 | 稀有 |
| **分身符** | 位移 | 👥 | 分身吸引仇恨5秒 | 史诗 |
| **疾风符** | 增益 | 💨 | 移速x2持续10秒 | 普通 |
| **金身符** | 增益 | 🛡️ | 无敌3秒 | 稀有 |
| **狂暴丹** | 增益 | 💊 | 攻击x2持续10秒 | 稀有 |
| **回气丹** | 回复 | 💚 | 回复40%血量 | 普通 |
| **聚灵阵** | 回复 | ⭐ | 经验x2持续10秒 | 稀有 |
| **乾坤袋** | 特殊 | 👝 | 吸走5只怪物 | 传说 |

### 3.4 详细设计

#### ⚡ 雷劫珠

| 项目 | 内容 |
|------|------|
| **效果** | 召唤天雷，连续轰击3次，每次150伤害 |
| **趣味点** | 像辣椒炸弹，爽快清场 |
| **稀有度** | 史诗 |

#### 🔱 翻天印

| 项目 | 内容 |
|------|------|
| **效果** | 全场震击200伤害 |
| **趣味点** | 神印镇压，简单粗暴 |
| **稀有度** | 史诗 |

#### 🔮 冰魄珠

| 项目 | 内容 |
|------|------|
| **效果** | 全场敌人冻结3秒 |
| **趣味点** | 喘息机会，从容走位 |
| **稀有度** | 稀有 |

#### 📜 定身符

| 项目 | 内容 |
|------|------|
| **效果** | 随机定住5个敌人10秒 |
| **趣味点** | 点控精英，单点击杀 |
| **稀有度** | 稀有 |

#### 🔔 混沌铃

| 项目 | 内容 |
|------|------|
| **效果** | 全场敌人互相攻击5秒 |
| **趣味点** | 看怪物内讧，超有趣 |
| **稀有度** | 传说 |

#### 🌿 荆棘种

| 项目 | 内容 |
|------|------|
| **效果** | 脚下种荆棘，持续10秒，伤害踩到的敌人 |
| **趣味点** | 边跑边撒，像香蕉皮 |
| **稀有度** | 普通 |

#### 💎 爆炎石

| 项目 | 内容 |
|------|------|
| **效果** | 放置定时炸弹，3秒后范围爆炸 |
| **趣味点** | 引诱怪物踩雷 |
| **稀有度** | 稀有 |

#### 🌀 缩地符

| 项目 | 内容 |
|------|------|
| **效果** | 瞬移到随机安全位置 |
| **趣味点** | 逃命神器 |
| **稀有度** | 稀有 |

#### 👥 分身符

| 项目 | 内容 |
|------|------|
| **效果** | 生成分身吸引仇恨5秒 |
| **趣味点** | 金蝉脱壳 |
| **稀有度** | 史诗 |

#### 💨 疾风符

| 项目 | 内容 |
|------|------|
| **效果** | 移速翻倍持续10秒 |
| **趣味点** | 风驰电掣 |
| **稀有度** | 普通 |

#### 🛡️ 金身符

| 项目 | 内容 |
|------|------|
| **效果** | 无敌3秒 |
| **趣味点** | 强闯重围 |
| **稀有度** | 稀有 |

#### 💊 狂暴丹

| 项目 | 内容 |
|------|------|
| **效果** | 攻击力x2持续10秒 |
| **趣味点** | 爆发输出 |
| **稀有度** | 稀有 |

#### 💚 回气丹

| 项目 | 内容 |
|------|------|
| **效果** | 回复40%血量 |
| **趣味点** | 续命 |
| **稀有度** | 普通 |

#### ⭐ 聚灵阵

| 项目 | 内容 |
|------|------|
| **效果** | 10秒内击杀怪物经验x2 |
| **趣味点** | 快速升级 |
| **稀有度** | 稀有 |

#### 👝 乾坤袋

| 项目 | 内容 |
|------|------|
| **效果** | 吸走屏幕内5只怪物（直接消灭） |
| **趣味点** | 一袋收了 |
| **稀有度** | 传说 |

### 3.5 代码定义

```javascript
export const ITEM_CARDS = [
    // 攻击类
    { id: 'leijie_zhu', name: '雷劫珠', icon: '⚡', desc: '天雷连轰3次', effect: 'thunder_strike', value: 150, rarity: 'epic', dropRate: 0.05 },
    { id: 'fantian_yin', name: '翻天印', icon: '🔱', desc: '全场震击200伤害', effect: 'screen_damage', value: 200, rarity: 'epic', dropRate: 0.05 },
    // 控制类
    { id: 'bingpo_zhu', name: '冰魄珠', icon: '🔮', desc: '全场冻结3秒', effect: 'freeze_all', value: 3, rarity: 'rare', dropRate: 0.08 },
    { id: 'dingshen_fu', name: '定身符', icon: '📜', desc: '定住5敌人10秒', effect: 'stun_random', value: 5, rarity: 'rare', dropRate: 0.08 },
    { id: 'hundun_ling', name: '混沌铃', icon: '🔔', desc: '敌人互攻5秒', effect: 'chaos', value: 5, rarity: 'legendary', dropRate: 0.02 },
    // 陷阱类
    { id: 'jingji_zhong', name: '荆棘种', icon: '🌿', desc: '地面荆棘伤害', effect: 'thorn_trap', value: 10, rarity: 'common', dropRate: 0.15 },
    { id: 'baoyan_shi', name: '爆炎石', icon: '💎', desc: '定时炸弹', effect: 'time_bomb', value: 300, rarity: 'rare', dropRate: 0.08 },
    // 位移类
    { id: 'suodi_fu', name: '缩地符', icon: '🌀', desc: '瞬移逃命', effect: 'teleport', value: 1, rarity: 'rare', dropRate: 0.08 },
    { id: 'fenshen_fu', name: '分身符', icon: '👥', desc: '分身吸引仇恨', effect: 'decoy', value: 5, rarity: 'epic', dropRate: 0.05 },
    // 增益类
    { id: 'jifeng_fu', name: '疾风符', icon: '💨', desc: '移速x2持续10秒', effect: 'speed_boost', value: 10, rarity: 'common', dropRate: 0.15 },
    { id: 'jinshen_fu', name: '金身符', icon: '🛡️', desc: '无敌3秒', effect: 'invincible', value: 3, rarity: 'rare', dropRate: 0.08 },
    { id: 'kuangbao_dan', name: '狂暴丹', icon: '💊', desc: '攻击x2持续10秒', effect: 'damage_boost', value: 10, rarity: 'rare', dropRate: 0.08 },
    // 回复类
    { id: 'huiqi_dan', name: '回气丹', icon: '💚', desc: '回复40%血量', effect: 'heal', value: 0.4, rarity: 'common', dropRate: 0.15 },
    { id: 'juling_zhen', name: '聚灵阵', icon: '⭐', desc: '经验x2持续10秒', effect: 'exp_boost', value: 10, rarity: 'rare', dropRate: 0.08 },
    // 特殊类
    { id: 'qiankun_dai', name: '乾坤袋', icon: '👝', desc: '吸走5只怪物', effect: 'absorb_enemy', value: 5, rarity: 'legendary', dropRate: 0.02 }
];
```

### 3.6 effect类型

| effect | 说明 |
|--------|------|
| `thunder_strike` | 天雷连击 |
| `screen_damage` | 全屏伤害 |
| `freeze_all` | 全场冻结 |
| `stun_random` | 随机定身 |
| `chaos` | 敌人混乱 |
| `thorn_trap` | 荆棘陷阱 |
| `time_bomb` | 定时炸弹 |
| `teleport` | 瞬移 |
| `decoy` | 分身诱饵 |
| `speed_boost` | 加速 |
| `invincible` | 无敌 |
| `damage_boost` | 增伤 |
| `heal` | 回血 |
| `exp_boost` | 经验加成 |
| `absorb_enemy` | 吸收敌人 |

---

## 四、法宝与五派适配

```
┌─────────────────────────────────────────────────────────────┐
│              装备法宝 × 五派 推荐                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  天剑宗（高攻速）→ 诛仙剑阵、金蛟剪                          │
│  玄元道（高爆发）→ 风火轮、乾蓝冰焰                          │
│  荒古门（高血量）→ 玄武盾、乾坤圈                            │
│  幽冥涧（召唤流）→ 定海神珠、玄天斩灵                        │
│  天机阁（控制流）→ 定海神珠、虚天鼎                          │
│                                                             │
│  通用（刷资源）→ 聚宝盆                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 五、材料系统（预留）

### 5.1 岛屿产出

| 岛屿 | 材料 | 用途 |
|------|------|------|
| 苍莽 | 古木精华、幽蝠翼膜 | 通用材料 |
| 葬骨 | 骨粉、冤魂精魄 | 幽冥涧专用 |
| 炎渊 | 火晶石、熔岩精华 | 玄元道专用 |
| 霜寒 | 寒冰晶、霜寒精华 | 控制类道具 |
| 战魂 | 战魂碎片、残兵断戟 | 荒古门专用 |
| 云霄 | 仙灵之气、云霄玉露 | 顶级材料 |

---

*道具系统 v2.0*
*装备法宝核心保命，道具卡增添趣味*
