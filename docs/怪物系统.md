# 怪物系统设计

> 基于星落世界观，各岛屿孕育不同生灵，修仙者以历练为名，斩妖除魔。

---

## 一、怪物总览

### 1.1 分类体系

```
怪物
├── 普通怪（小怪）
│   ├── 幽蝠系列（蝙蝠类）
│   ├── 冤魂系列（幽灵类）
│   └── 岩魔系列（岩石类）
├── 精英怪（血煞系列）
│   ├── 赤翼蝠
│   ├── 血丝蛛
│   ├── 赤煞狼
│   └── ...
└── BOSS
    ├── 赤玉蛛王
    └── 炎煞蝎皇
```

### 1.2 按岛屿分布

| 岛屿 | 场景 | 普通怪 |
|------|------|--------|
| 苍莽 | 幽暗密林 | 幽蝠、岩魔 |
| 葬骨 | 埋骨之地 | 幽蝠、冤魂 |
| 炎渊 | 熔岩炼狱 | 炎蝠、熔岩怪 |
| 霜寒 | 极寒冰原 | 冰魂、寒晶兽 |
| 战魂 | 古战场 | 冤魂、岩魔 |
| 云霄 | 仙境 | 混合（异化） |

---

## 二、普通怪物

### 2.1 幽蝠系列

#### 幽蝠（基础）

| 项目 | 内容 |
|------|------|
| **代码ID** | `bat` |
| **名称** | 幽蝠 |
| **分布** | 苍莽、葬骨 |
| **特点** | 成群出没，速度快 |

**背景**：栖息于阴暗森林的蝙蝠，被灵气侵染后略有灵智，成群结队攻击修仙者。

#### 炎蝠（火属性）

| 项目 | 内容 |
|------|------|
| **代码ID** | `bat_fire` |
| **名称** | 炎蝠 |
| **分布** | 炎渊、云霄 |
| **特点** | 浴火而生，带火焰光环 |

**背景**：在炎渊火山中进化的蝙蝠，体表燃烧着永不熄灭的火焰。

### 2.2 冤魂系列

#### 冤魂（基础）

| 项目 | 内容 |
|------|------|
| **代码ID** | `ghost` |
| **名称** | 冤魂 |
| **分布** | 葬骨、战魂 |
| **特点** | 飘忽不定，穿透地形 |

**背景**：死于非命的亡灵，怨念不散，徘徊于葬骨和战魂岛。

#### 冰魂（冰属性）

| 项目 | 内容 |
|------|------|
| **代码ID** | `ghost_ice` |
| **名称** | 冰魂 |
| **分布** | 霜寒、云霄 |
| **特点** | 被冻死者的冤魂，带寒气 |

**背景**：在霜寒岛冻死的生灵，化为冰冷的亡魂，周身散发刺骨寒气。

### 2.3 岩魔系列

#### 岩魔（基础）

| 项目 | 内容 |
|------|------|
| **代码ID** | `rock` |
| **名称** | 岩魔 |
| **分布** | 苍莽、战魂 |
| **特点** | 移动缓慢，血厚防高 |

**背景**：岩石吸收灵气后化形的精怪，行动迟缓但防御惊人。

#### 熔岩怪（火属性）

| 项目 | 内容 |
|------|------|
| **代码ID** | `magma_rock` |
| **名称** | 熔岩怪 |
| **分布** | 炎渊、云霄 |
| **特点** | 熔岩凝聚，带灼烧效果 |

**背景**：炎渊火山中的熔岩凝聚成形，体表流淌着炽热岩浆。

#### 寒晶兽（冰属性）

| 项目 | 内容 |
|------|------|
| **代码ID** | `crystal` |
| **名称** | 寒晶兽 |
| **分布** | 霜寒、云霄 |
| **特点** | 冰晶化的精怪，带减速 |

**背景**：霜寒岛上冰晶化的生灵，晶莹剔透，寒气逼人。

---

## 三、精英怪物（血煞秘境）

血煞秘境是被神秘血气污染的异域，孕育出一系列血属性精英怪。

### 3.1 赤翼蝠

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_bat` |
| **名称** | 赤翼蝠 |
| **生命** | 30 |
| **伤害** | 8 |
| **速度** | 100 |
| **掉落** | 1-3 金币 |

**背景**：被血气侵染的蝙蝠，通体血红，双眼猩红，嗜血成性。

### 3.2 血丝蛛

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_spider` |
| **名称** | 血丝蛛 |
| **生命** | 45 |
| **伤害** | 10 |
| **速度** | 70 |
| **掉落** | 2-4 金币 |

**背景**：血气中孕育的巨型蜘蛛，吐出的蛛丝带有剧毒。

### 3.3 赤煞狼

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_wolf` |
| **名称** | 赤煞狼 |
| **生命** | 60 |
| **伤害** | 15 |
| **速度** | 120 |
| **掉落** | 3-5 金币 |

**背景**：血气污染的狼群，嗜血凶残，速度极快，成群猎杀。

### 3.4 血鳞蟒

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_serpent` |
| **名称** | 血鳞蟒 |
| **生命** | 80 |
| **伤害** | 12 |
| **速度** | 60 |
| **掉落** | 3-6 金币 |

**背景**：血气中诞生的巨蟒，血红鳞片坚如铁甲，体型庞大。

### 3.5 血魂鬼

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_ghost` |
| **名称** | 血魂鬼 |
| **生命** | 50 |
| **伤害** | 18 |
| **速度** | 90 |
| **掉落** | 2-5 金币 |

**背景**：被血气吞噬的冤魂，化为嗜血的恶灵，高伤害但脆皮。

### 3.6 赤甲蝎

| 项目 | 内容 |
|------|------|
| **代码ID** | `blood_scorpion` |
| **名称** | 赤甲蝎 |
| **生命** | 40 |
| **伤害** | 12 |
| **速度** | 85 |
| **掉落** | 2-4 金币 |

**背景**：血气污染的蝎子，尾刺剧毒，甲壳血红。

---

## 四、BOSS

### 4.1 赤玉蛛王

| 项目 | 内容 |
|------|------|
| **代码ID** | `boss_spider` |
| **名称** | 赤玉蛛王 |
| **生命** | 2000 |
| **伤害** | 25 |
| **速度** | 50 |
| **体型** | 3.0x |
| **掉落** | 15-25 金币，1张道具卡 |

**背景**：血煞秘境第一BOSS，体内孕育血玉，是血丝蛛的王者。

**技能**：
- `poison_spray` - 毒雾喷射
- `web_trap` - 蛛网陷阱
- `jade_armor` - 血玉护甲

### 4.2 炎煞蝎皇

| 项目 | 内容 |
|------|------|
| **代码ID** | `boss_scorpion` |
| **名称** | 炎煞蝎皇 |
| **生命** | 5000 |
| **伤害** | 40 |
| **速度** | 40 |
| **体型** | 4.0x |
| **掉落** | 50-80 金币，3张道具卡 |

**背景**：血煞秘境最终BOSS，融合了血气与火焰之力，堪称噩梦。

**技能**：
- `claw_sweep` - 巨钳横扫
- `tail_strike` - 尾刺穿刺
- `summon_scorpions` - 召唤小蝎
- `rage_mode` - 狂暴模式

**阶段**：
| 阶段 | 血量 | 名称 | 效果 |
|------|------|------|------|
| 1 | 100% | 普通 | 正常状态 |
| 2 | 50% | 狂暴 | 速度x1.3，伤害x1.5 |

---

## 五、代码数据

### 5.1 普通怪配置 (entities.js中动态计算)

怪物属性由等级动态计算：
```javascript
// 基础属性
hp = 20 + level * 10
dmg = 5 + level * 2
speed = 类型决定
```

### 5.2 精英怪配置 (data.js)

```javascript
export const ARENA_MOBS = {
    blood_bat: { name: '赤翼蝠', hp: 30, dmg: 8, speed: 100, svg: 'blood_bat', goldDrop: [1, 3] },
    blood_spider: { name: '血丝蛛', hp: 45, dmg: 10, speed: 70, svg: 'blood_spider', goldDrop: [2, 4] },
    blood_wolf: { name: '赤煞狼', hp: 60, dmg: 15, speed: 120, svg: 'blood_wolf', goldDrop: [3, 5] },
    blood_serpent: { name: '血鳞蟒', hp: 80, dmg: 12, speed: 60, svg: 'blood_serpent', goldDrop: [3, 6] },
    blood_ghost: { name: '血魂鬼', hp: 50, dmg: 18, speed: 90, svg: 'blood_ghost', goldDrop: [2, 5] },
    blood_scorpion: { name: '赤甲蝎', hp: 40, dmg: 12, speed: 85, svg: 'blood_scorpion', goldDrop: [2, 4] }
};
```

### 5.3 BOSS配置 (data.js)

```javascript
export const ARENA_BOSSES = {
    boss_spider: {
        name: '赤玉蛛王',
        hp: 2000,
        dmg: 25,
        speed: 50,
        size: 3.0,
        svg: 'boss_spider',
        goldDrop: [15, 25],
        cardDrop: 1,
        skills: ['poison_spray', 'web_trap', 'jade_armor']
    },
    boss_scorpion: {
        name: '炎煞蝎皇',
        hp: 5000,
        dmg: 40,
        speed: 40,
        size: 4.0,
        svg: 'boss_scorpion',
        goldDrop: [50, 80],
        cardDrop: 3,
        skills: ['claw_sweep', 'tail_strike', 'summon_scorpions', 'rage_mode'],
        phases: [
            { hpPercent: 100, name: '普通' },
            { hpPercent: 50, name: '狂暴', speedMult: 1.3, dmgMult: 1.5 }
        ]
    }
};
```

---

## 六、怪物掉落

### 6.1 经验值

击杀怪物获得经验：
- 普通怪：基础经验 × 等级系数
- 精英怪：固定经验值
- BOSS：大量经验

### 6.2 金币

| 怪物类型 | 金币范围 |
|----------|----------|
| 赤翼蝠 | 1-3 |
| 血丝蛛 | 2-4 |
| 赤煞狼 | 3-5 |
| 血鳞蟒 | 3-6 |
| 血魂鬼 | 2-5 |
| 赤甲蝎 | 2-4 |
| 赤玉蛛王 | 15-25 |
| 炎煞蝎皇 | 50-80 |

### 6.3 道具卡

BOSS击杀后掉落道具卡：
- 赤玉蛛王：1张
- 炎煞蝎皇：3张

---

## 七、扩展预留

### 7.1 新怪物模板

```javascript
// 添加新怪物
{
    code_id: 'new_mob',
    name: '新怪物名',
    hp: 数值,
    dmg: 数值,
    speed: 数值,
    svg: 'svg_key',
    goldDrop: [最小, 最大],
    // 可选
    element: '属性',
    skills: ['技能1', '技能2']
}
```

### 7.2 新BOSS模板

```javascript
{
    code_id: 'new_boss',
    name: 'BOSS名',
    hp: 数值,
    dmg: 数值,
    speed: 数值,
    size: 倍率,
    svg: 'svg_key',
    goldDrop: [最小, 最大],
    cardDrop: 卡片数,
    skills: ['技能列表'],
    phases: [
        { hpPercent: 100, name: '阶段1' },
        { hpPercent: 50, name: '阶段2', speedMult: 1.5, dmgMult: 2.0 }
    ]
}
```

---

*怪物系统 v1.0*
*各岛生灵，各有特色*

